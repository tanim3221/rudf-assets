!function($){"use strict";$.fn.AcmeTicker=function(options){let opts=$.extend({},$.fn.AcmeTicker.defaults,options),thisTicker=$(this),intervalID,timeoutID,isPause=!1;function init(){switch(opts.type){case"vertical":case"horizontal":vertiZontal();break;case"marquee":marQuee();break;case"typewriter":typeWriter()}}function vertiZontal(prevNext=!1){let speed=opts.speed,autoplay=opts.autoplay,direction=opts.direction;function play(){if(isPause)return clearInterval(intervalID),intervalID=!1,!1;let dChild,eqType,mType,mVal;dChild=thisTicker.find("li:first"),eqType="up"===direction||"right"===direction?"-=":"+=","horizontal"===opts.type?(mType="left",mVal=dChild.outerWidth(!0)):(mType="margin-top",mVal=dChild.outerHeight(!0)),"prev"===prevNext?thisTicker.find("li:last").detach().prependTo(thisTicker):dChild.detach().appendTo(thisTicker),thisTicker.find("li").css({opacity:"0",display:"none"}),thisTicker.find("li:first").css({opacity:"1",position:"absolute",display:"block",[mType]:eqType+mVal+"px"}),thisTicker.find("li:first").animate({[mType]:"0px"},speed,(function(){clearInterval(intervalID),intervalID=!1,vertiZontal()}))}if(prevNext&&(speed=0,autoplay=0,clearInterval(intervalID),intervalID=!1),intervalID)return!1;intervalID=setInterval(play,autoplay)}function typeWriter(prevNext=!1){if(isPause)return!1;prevNext&&(clearInterval(intervalID),intervalID=!1,clearTimeout(timeoutID),timeoutID=!1,"prev"===prevNext?thisTicker.find("li:last").detach().prependTo(thisTicker):thisTicker.find("li:first").detach().appendTo(thisTicker));let speed=opts.speed,autoplay=opts.autoplay,typeEl=thisTicker.find("li:first"),wrapEl=typeEl.children(),count=0;typeEl.attr("data-text")&&wrapEl.text(typeEl.attr("data-text"));let allText=typeEl.text();function tNext(){thisTicker.find("li:first").detach().appendTo(thisTicker),clearTimeout(timeoutID),timeoutID=!1,typeWriter()}function type(){count++;let typeText=allText.substring(0,count);typeEl.attr("data-text")||typeEl.attr("data-text",allText),count<=allText.length?(wrapEl.text(typeText),typeEl.css({opacity:"1",display:"block"})):(clearInterval(intervalID),intervalID=!1,timeoutID=setTimeout(tNext,autoplay))}thisTicker.find("li").css({opacity:"0",display:"none"}),intervalID||(intervalID=setInterval(type,speed))}function marQuee(){let speed=opts.speed,direction=opts.direction,wrapWidth,dir="left",totalTravel,defTiming,listWidth=0,mPause=!1;function mInit(){thisTicker.css({position:"inherit"}),thisTicker.find("span").css({display:"inline-block",marginRight:"10px"});let tickerList=thisTicker.find("span");wrapWidth=thisTicker.parent().outerWidth(!0),"right"===direction&&(dir="right"),thisTicker.width(1e4),tickerList.each((function(){listWidth+=$(this).outerWidth(!0)+5})),thisTicker.width(listWidth),totalTravel=listWidth+wrapWidth,defTiming=totalTravel/speed,marQueeIt(listWidth,listWidth/speed)}function marQueeIt(lPos,lSpeed){thisTicker.animate({[dir]:"-="+lPos},lSpeed,"linear",(function(){thisTicker.css({[dir]:wrapWidth}),marQueeIt(totalTravel,defTiming)}))}function mRestart(){let offset=thisTicker.offset(),rOffset,remainingSpace=("right"===direction?listWidth-offset.left:offset.left)+listWidth,remainingTime;marQueeIt(remainingSpace,remainingSpace/speed)}mInit(),opts.controls.toggle&&opts.controls.toggle.on("click",(function(e){mPause=!mPause,$(document).trigger("acmeTickerToggle",thisTicker,mPause),mPause?thisTicker.stop():mRestart()})),opts.pauseOnHover&&thisTicker.mouseenter((function(){thisTicker.stop()})).mouseleave((function(){mRestart()})),opts.pauseOnFocus&&thisTicker.focusin((function(){thisTicker.stop()})).focusout((function(){mRestart()}))}if(thisTicker.wrap("<div class='acmeticker-wrap'></div>"),thisTicker.parent().css({position:"relative"}),thisTicker.children("li").not(":first").hide(),init(),"marquee"!==opts.type){function restart(){isPause||init()}opts.controls.prev&&opts.controls.prev.on("click",(function(e){switch(e.preventDefault(),opts.type){case"typewriter":typeWriter("prev");break;default:vertiZontal("prev")}})),opts.controls.next&&opts.controls.next.on("click",(function(e){switch(e.preventDefault(),opts.type){case"typewriter":typeWriter("next");break;default:vertiZontal("next")}})),opts.controls.toggle&&opts.controls.toggle.on("click",(function(e){e.preventDefault(),isPause=!isPause,$(document).trigger("acmeTickerToggle",thisTicker,isPause),restart()})),opts.pauseOnHover&&(thisTicker.mouseenter((function(){isPause=!0})).mouseleave((function(){isPause=!1})),restart()),opts.pauseOnFocus&&(thisTicker.focusin((function(){isPause=!0})).focusout((function(){isPause=!1})),restart())}},$.fn.AcmeTicker.defaults={type:"horizontal",autoplay:2e3,speed:50,direction:"up",pauseOnFocus:!0,pauseOnHover:!0,controls:{prev:"",next:"",toggle:""}}}(jQuery);